<div class="space-y-6 bg-[#150129]  p-6 rounded-lg text-gray-100">
  <table class="w-full border-collapse bg-gray-700 rounded-lg overflow-hidden">
    <thead>
      <tr class="bg-gray-600 text-gray-100">
        <th class="p-3 text-left">Nom</th>
        <th class="p-3 text-left">Poste</th>
        <th class="p-3 text-left">Date</th>
        <th class="p-3 text-left">Statut</th>
        <th class="p-3 text-left">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let candidate of candidates" class="border-b border-gray-600 hover:bg-gray-600">
        <td class="p-3">{{ candidate.name }}</td>
        <td class="p-3">{{ candidate.position }}</td>
        <td class="p-3">{{ candidate.date }}</td>
        <td class="p-3">
          <span [ngClass]="{
            'bg-yellow-500 text-yellow-900': candidate.status === 'Nouveau',
            'bg-blue-500 text-blue-900': candidate.status === 'En revue'
          }" class="px-3 py-1 rounded-full text-sm">
            {{ candidate.status }}
          </span>
        </td>
        <td class="p-3">
          <button (click)="showDetails(candidate)" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
            Voir détails
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="selectedCandidate" class="mt-6 bg-gray-700 p-6 rounded-lg">
    <h3 class="text-2xl font-bold">Détails du candidat</h3>
    <p><strong>Nom :</strong> {{ selectedCandidate.name }}</p>
    <p><strong>Poste :</strong> {{ selectedCandidate.position }}</p>
    <p><strong>Date :</strong> {{ selectedCandidate.date }}</p>
    <p><strong>Statut :</strong> {{ selectedCandidate.status }}</p>
    <div class="flex pt-2 gap-4">
      <button class=" bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200">
        Download Resume
      </button>
      <button class="bg-[#5c0259] text-white px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200">
        Read Cover Letter
      </button>
    </div>

    <button (click)="respondToCandidate()" *ngIf="res" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 mt-4">
      Répondre
    </button>
    <p class="text-green-500 mt-4" *ngIf="!res">Réponse en attente...</p>
  </div>
</div>

<app-response-form *ngIf="!res && selectedCandidate"></app-response-form>
